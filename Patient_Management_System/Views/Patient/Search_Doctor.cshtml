@model List<Patient_Management_System.ViewModel.DoctorVM>

@{
    ViewBag.Title = "Search Doctors";
}

<!-- Bootstrap & FontAwesome -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<style>
    body {
        background: #f9f9f9;
        font-family: 'Poppins', sans-serif;
    }

    .search-container {
        display: flex;
        align-items: center;
        background: #fff;
        border-radius: 50px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
        max-width: 600px;
        width: 100%;
        padding: 8px;
        margin: 0 auto;
    }

        .search-container i {
            padding: 15px;
            font-size: 18px;
            color: #555;
        }

        .search-container input {
            flex: 1;
            border: none;
            outline: none;
            background: transparent;
            padding: 10px;
            font-size: 16px;
        }

        .search-container button {
            background: linear-gradient(120deg, #ff5722, #ff9800);
            border: none;
            color: white;
            padding: 12px 25px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 50px;
        }

    /* Doctor Card */
    .doctor-card {
        background: white;
        border-radius: 10px;
        padding: 15px;
        box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.1);
        text-align: center;
        margin: 10px auto;
        width: 250px;
    }

        .doctor-card img {
            width: 100px;
            height: 100px;
            border-radius: 10px;
            object-fit: cover;
            margin-bottom: 10px;
        }

    .doctor-name {
        font-size: 18px;
        font-weight: bold;
        color: #333;
    }

    .doctor-department {
        color: #007bff;
        font-size: 16px;
        font-weight: bold;
    }

    .doctor-qualification {
        font-size: 14px;
        color: #777;
    }

    .doctor-fees {
        font-size: 16px;
        font-weight: bold;
        color: #28a745;
    }

    .doctor-actions a {
        display: block;
        margin-top: 8px;
        padding: 8px;
        border-radius: 5px;
        text-decoration: none;
        font-size: 14px;
    }

    .btn-view-profile {
        border: 1px solid #007bff;
        color: #007bff;
        background: white;
    }

    .btn-book {
        background: #17a2b8;
        color: white;
    }

    /* Slider */
    .carousel-item {
        display: flex;
        justify-content: center;
    }
</style>

<div class="container mt-5">
    <h2 class="text-center mb-4">
        <span style="color: #ff5722; font-weight: bold;">S</span>earch
        <span style="color: #007bff; font-weight: bold;">D</span>octor,
        <span style="color: #ff5722; font-weight: bold;">M</span>ake
        <span style="color: #007bff; font-weight: bold;">A</span>ppointment
    </h2>

    <div class="d-flex justify-content-center">
        @using (Html.BeginForm("Search_Doctor", "Patient", FormMethod.Get, new { @class = "search-container" }))
        {
            <i class="fas fa-search"></i>
            <input type="text" name="searchTerm" id="searchTerm" placeholder="Search by Doctor or Department">
            <button type="submit">Search</button>
        }
    </div>

    <div class="mt-4">
        @if (Model != null && Model.Count > 0)
        {
            <div id="doctorCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    @for (int i = 0; i < Model.Count; i++)
                    {
                        var doctor = Model[i];
                        <div class="carousel-item @(i == 0 ? "active" : "")">
                            <div class="doctor-card">
                                <!-- Doctor Image -->
                                @if (!string.IsNullOrEmpty(doctor.Dr_ImagePath))
                                {
                                    <img src="@Url.Content(doctor.Dr_ImagePath)" alt="Doctor Image">
                                }
                                else
                                {
                                    <img src="~/Images/default-doctor.png" alt="No Image">
                                }

                                <!-- Doctor Details -->
                                <div class="doctor-name">
                                    <i class="fas fa-user-md me-2"></i>@doctor.Dr_FirstName
                                </div>
                                <div class="doctor-department">
                                    <i class="fas fa-hospital me-2"></i>@doctor.Dept_Name
                                </div>
                                <div class="doctor-qualification">
                                    <i class="fas fa-graduation-cap me-2"></i>@doctor.Dr_Qualification
                                </div>
                                <div class="doctor-fees">
                                    <i class="fas fa-money-bill-wave me-2"></i>₹@doctor.Fees
                                </div>

                                <!-- Action Buttons -->
                                <div class="doctor-actions">
                                    <a href="@Url.Action("ViewProfile", "Doctor", new { id = doctor.Doctor_ID })" class="btn-view-profile">
                                        View Profile
                                    </a>
                                    <a href="@Url.Action("BookAppointment", "Patient", new { id = doctor.Doctor_ID })" class="btn-book">
                                        Book Appointment
                                    </a>
                                </div>
                            </div>
                        </div>
                    }
                </div>

                <!-- Carousel Controls -->
                <button class="carousel-control-prev" type="button" data-bs-target="#doctorCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#doctorCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </button>
            </div>
        }
        else
        {
            <div class="alert alert-warning text-center mt-4">
                <strong>No doctors found.</strong>
            </div>
        }
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
